<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content=""/>
  <meta name="author" content="Dashboard"/>
  <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina"/>
  <title>人员添加</title>

  <!-- Favicons -->
  <link href="back/img/favicon.png" rel="icon"/>
  <link href="back/img/apple-touch-icon.png" rel="apple-touch-icon"/>

  <!-- Bootstrap core CSS -->
  <link href="back/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <!--external css-->
  <link href="back/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="back/css/zabuto_calendar.css"/>
  <link rel="stylesheet" type="text/css" href="back/lib/gritter/css/jquery.gritter.css" />
  <!-- Custom styles for this template -->
  <link href="back/css/style.css" rel="stylesheet"/>
  <link href="back/css/style-responsive.css" rel="stylesheet"/>
  <script src="back/lib/chart-master/Chart.js"></script>
  
   <script src="back/lib/jquery/jquery.js"></script>

  <script src="back/lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="back/lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="back/lib/jquery.scrollTo.min.js"></script>
  <script src="back/lib/jquery.nicescroll.js" type="text/javascript"></script>
  <script src="back/lib/jquery.sparkline.js"></script>
  <!--common script for all pages-->
  <script src="back/lib/common-scripts.js"></script>
  <script type="text/javascript" src="back/lib/gritter/js/jquery.gritter.js"></script>
  <script type="text/javascript" src="back/lib/gritter-conf.js"></script>
  <!--script for this page-->
  <script src="back/lib/sparkline-chart.js"></script>
  <script src="back/lib/zabuto_calendar.js"></script>
  <script src="back/lib/jquery-ui-1.9.2.custom.min.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-fileupload/bootstrap-fileupload.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-daterangepicker/date.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-daterangepicker/daterangepicker.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-daterangepicker/moment.min.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>
  <script src="back/lib/advanced-form-components.js"></script>
    <script type="text/javascript">
  $(function(){
		console.log($("#totalpage").val());
		console.log($("#cp").val());
		$.post("/weather",{"city":"深圳","appkey":"3aa9dfcfc136e1953edb18c45d1835f6"},function(data){
			console.log(data);
			$("#tianqi_city").html(data.result.result.city);
			$("#tianqi_date").html(data.result.result.updatetime);
			$("#tianqi_week").html(data.result.result.week);
			$("#tianqi_weather").html(data.result.result.weather);
			$("#tianqi_humidity").html(data.result.result.humidity);
			$("#tianqi_temp").html(data.result.result.temp);
			$("#tianqi_templow").html(data.result.result.templow);
			$("#tianqi_temphigh").html(data.result.result.temphigh);
			$("#tianqi_detail").html(data.result.result.index[0].detail);
		},"json");
	});
  </script>
  <script type="application/javascript">
      $(document).ready(function() {
      $("#date-popover").popover({
        html: true,
        trigger: "manual"
      });
      $("#date-popover").hide();
      $("#date-popover").click(function(e) {
        $(this).hide();
      });

      $("#my-calendar").zabuto_calendar({
        action: function() {
          return myDateFunction(this.id, false);
        },
        action_nav: function() {
          return myNavFunction(this.id);
        },
        ajax: {
          url: "show_data.php?action=1",
          modal: true
        },
        legend: [{
            type: "text",
            label: "Special event",
            badge: "00"
          },
          {
            type: "block",
            label: "Regular event",
          }
        ]
      });
    }); 

     function myNavFunction(id) {
      $("#date-popover").hide();
      var nav = $("#" + id).data("navigation");
      var to = $("#" + id).data("to");
      console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    } 
     </script>
  <script type="text/javascript">
  var flag =false;
  var flag2 = false;
  $(function(){
		$("#username").keyup(function(){
			$.ajax({
				type:"post",
				url:"/checkname",
				data:{"username":$("#username").val() },
				success:function(data){
					if(data=="1"){
						$("#namespan").html("<font color='red' size='2'><b>用户名已经被注册<b></font>");
						flag = false;
						return flag;
					}else{
						$("#namespan").html("<font color='gray' size='2'><b>用户名可以用<b></font>");
						flag =true;
						return flag;
					}
				}
			});
		});
	});
  
  
  
  
  	function checkname(){
  		var name = $("#username").val();
  		var reg = /^[a-zA-Z][a-zA-Z0-9_]*$/;
  		//以英文字母开头，只能包含英文字母、数字、下划线
  		if(reg.test(name)){
  			$("#namespan").html("<font color='green' >合法</font>");
  			return true;
  		}else{
  			$("#namespan").html("<font color='red' >输入非法</font>");
  			return false;
  		}
  	}

  	function checkpwd(){
  		var pwd = $("#userpwd").val();
  		var reg = /^((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))^.{8,16}$/;
  		//只有数字和字母
  		if(reg.test(pwd)){
  			$("#pwdspan").html("<font color='green' >合法</font>");
  			return true;
  		}else{
  			$("#pwdspan").html("<font color='red' >数字、字母、字符至少包含两种 密码长度为8~16位</font>");
  			return false;
  		}
  	}

  	function reppwd(){
  		var repwd = $("#reppw").val();
  		var pwd = $("#userpwd").val();
  		if(repwd==pwd){
  			$("#reppwdspan").html("<font color='green' size='2' ><b>合法</b></font>");
  			return true;
  		}else{
  			$("#reppwdspan").html("<font color='red' size='2' ><b>输入密码须一致</b></font>");
  			return false;
  		}
  	}
  	
  	function isemail(){
  		var email = $("#email").val();
  		var reg = /^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/; 
  		if(reg.test(email)){
  			$("#checkemail").html("<font color='green' >合法</font>");
  			return true;
  		}else{
  			$("#checkemail").html("<font color='red' >输入非法</font>");
  			return false;
  		}
  	}
  	
  	function isnation(){
  		var isnation = $("#nation").val();
  		var reg =  /^[\u4e00-\u9fa5]+$/;
  		if(reg.test(isnation)){
  			$("#checknation").html("<font color='green' size='2' ><b>合法</b></font>");
  			return true;
  		}else{
  			$("#checknation").html("<font color='red' size='2' ><b>只能是汉子</b></font>");
  			return false;
  		}
  	}

  	function checkphone(){
  		var phone = $("#phone").val();
  		var reg = /^1\d{10}$/;
  		if(reg.test(phone)){
  			$("#phonespan").html("<font color='green' size='2' ><b>合法</b></font>");
  			return true;
  		}else{
  			$("#phonespan").html("<font color='red' size='2' ><b>手机号格式不正确</b></font>");
  			return false;
  		}
  	}
  	
  	function isCardNo()  {  
  		var card = $("#user_card").val();  	
  	   // 身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X  
  	   var reg = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;  
  	   if(reg.test(card) ) {  
  		 $("#ucard").html("<font color='green' size='2' ><b>身份验证正确</b></font>");
  	       return  true;  
  	   }  else{
  		   $("#ucard").html("<font color='red' size='2' ><b>身份验证不正确</b></font>");
  		   }
  	   }
  	function isemergency(){
  		var phone = $("#emergency").val();
  		var reg = /^1\d{10}$/;
  		if(reg.test(phone)){
  			$("#checkemergency").html("<font color='green' size='2' ><b>合法</b></font>");
  			return true;
  		}else{
  			$("#checkemergency").html("<font color='red' size='2' ><b>手机号格式不正确</b></font>");
  			return false;
  		}
  	}

  	 function succ(){
  		return checkname()&&checkpwd()&&reppwd()&&checkphone()&&isCardNo()&&isnation()&&isemail()&&isemergency();
  	}

  		
  		
  		
  	
  </script>

  <!-- =======================================================
    Template Name: Dashio
    Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
    Author: TemplateMag.com
    License: https://templatemag.com/license/
  ======================================================= -->
</head>

<body>
  <section id="container">
    <!-- **********************************************************************************************************************************************************
        TOP BAR CONTENT & NOTIFICATIONS
        *********************************************************************************************************************************************************** -->
    <!--header start-->
    
    <div th:replace="server/commons/comm::#topbar(activeUri='guaranteeList.html')"></div>
    
    <!--header end-->
    <!-- **********************************************************************************************************************************************************
        MAIN SIDEBAR MENU
        *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    
    <div th:replace="server/commons/comm::#sidebar(activeUri='guaranteeList.html')"></div>
    
    <!--sidebar end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
     <section class="wrapper">
        <div class="row">
		<form action="/addclerkses" method="post" name="myform" id="myform" onsubmit="return succ()" >	
			<table class="table table-striped">
			  <thead>
			    <tr>
			      <th scope="col">名称</th>
			      <th scope="col">填写</th>
			    </tr>
			  </thead>
			  <tbody>
			    
			    <tr>
			      <th scope="row">员工账号</th>
			      <td><input type="text" name="username" id="username" onchange="checkname()"/>
			      <span id="namespan"></span>
			      </td>
			    </tr>
			    
			    <tr>
			      <th scope="row">员工密码</th>
			      
			      <td><input type="text" name="userpwd" id="userpwd" onchange="checkpwd()"/>
			      <span id="pwdspan"></span>
			      </td>
			    </tr>
			    
			    <tr>
			      <th scope="row">确认密码</th>
			      <td><input type="text"  id="reppw"  onchange="reppwd()"/>
			       <span id="reppwdspan"></span>
			      </td>
			    </tr>
			    
			    
			    <tr>
			      <th scope="row">职位</th>
			      <td> <select id="roleid" name="roleid" >
				      	<option value="">--请选择--</option>
		              	<option th:value="1">保单一审</option>
		              	<option th:value="2">保单二审</option>
		              	<option th:value="3">保单三审</option>
		              	<option th:value="4">理赔一审</option>
		              	<option th:value="5">理赔二审</option>
		              	<option th:value="6">理赔三审</option>
		              	<option th:value="7">会计</option>
		              	<option th:value="8">指导人员</option>
		              	<option th:value="9">保单勘察人员</option>
		              	<option th:value="10">理赔勘察人员</option>
		              	<option th:value="11">超级管理员</option>
				      </select>
					</td>
			    </tr>
			    
			    <tr>
			      <th scope="row">姓名</th>
			      <td> <input type="text" name="realname" id="realname" /></td>
			    </tr>
			    
			    
			    <tr>
			      <th scope="row">身份证号码</th>
			      <td><input type="text" name="user_card"  id="user_card"  onchange="isCardNo()"/>
			      <span id="ucard"></span>
			      </td>
			    </tr>
			    
			    
			    <tr>
			      <th scope="row">邮箱</th>
			      <td><input type="text" name="email"  id="email" onchange="isemail()"/>
			      <span id="checkemail"></span>
			      </td>
			    </tr>
			    
			    <tr>
			      <th scope="row">性别</th>
			      <td><input type="radio" name="sex" value="1"/>男
			      <input type="radio" name="sex" value="0"/>女
			    </td>
					
			    <tr>
			      <th scope="row">民族</th>
			      <td><input type="text" name="nation"  id="nation" onchange="isnation()"/>
			      <span id="checknation"></span>
			      </td>
			    </tr>
			    
			    <tr>
			      <th scope="row">家庭地址</th>
			      <td><input type="text" name="address"  id="address"  />
			      </td>
			    </tr>
			    
			    <tr>
			      <th scope="row">紧急联系人</th>
			      <td>  <input type="text" name="linkman"  id="linkman" /></td>
			    </tr>
			    
			    <tr>
			      <th scope="row">紧急联系人电话</th>
			      <td><input type="text" name="emergency"  id="emergency" onchange="isemergency()"/>
			      <span id="checkemergency"></span>
			      </td>
			    </tr>
			    <tr>
			      <th scope="row">入职日期</th>
			      <td>
			      <!-- <label for="meeting"></label><input id="meeting" type="date" name="join_date"/> -->
			      	<input type="text" class="default-date-picker" data-date-format="yyyy-mm-dd" id="join_date" name="join_date">
			      
			      </td>
			    </tr>
			    <tr>
			      <th scope="row">负责地区</th>
			      <th> <select id="area"  name="area">
				      	<option value="">--请选择--</option>
				        <option th:each="city:${cityList}" th:value="${city.code}" th:text="${city.region_name_c}">Choose...</option>
				      </select>
			      </th>
			    </tr>
			    <tr>
			      <th scope="row">手机号</th>
			      <td><input type="text" name="phone"  id="phone"  onchange="checkphone()"/>
			      <span id="phonespan"></span>
			      </td>
			    </tr>
			    
			   
			  </tbody>
			</table>
			
		
			</table>
			   
			   <button type="submit" id="tijiao"  class="btn btn-primary" style="margin-left: 400px"  >注册</button>
      	</form>
        </div>
     </section>
	  
    </section>
    <!--main content end-->
    <!--footer start-->
    <!--footer end-->
    
  </section>
  <!-- js placed at the end of the document so the pages load faster -->
 
  
  <script type="text/javascript">
    /* $(document).ready(function() {
      var unique_id = $.gritter.add({
        // (string | mandatory) the heading of the notification
        title: 'Welcome to Dashio!',
        // (string | mandatory) the text inside the notification
        text: 'Hover me to enable the Close Button. You can hide the left sidebar clicking on the button next to the logo.',
        // (string | optional) the image to display on the left
        image: 'back/img/ui-sam.jpg',
        // (bool | optional) if you want it to fade out on its own or just sit there
        sticky: false,
        // (int | optional) the time you want it to be alive for before fading out
        time: 8000,
        // (string | optional) the class name you want to apply to that specific message
        class_name: 'my-sticky-class'
      });

      return false;
    }); */
  </script>
  <script type="application/javascript">
    $(document).ready(function() {
      $("#date-popover").popover({
        html: true,
        trigger: "manual"
      });
      $("#date-popover").hide();
      $("#date-popover").click(function(e) {
        $(this).hide();
      });

      $("#my-calendar").zabuto_calendar({
        action: function() {
          return myDateFunction(this.id, false);
        },
        action_nav: function() {
          return myNavFunction(this.id);
        },
        ajax: {
          url: "show_data.php?action=1",
          modal: true
        },
        legend: [{
            type: "text",
            label: "Special event",
            badge: "00"
          },
          {
            type: "block",
            label: "Regular event",
          }
        ]
      });
    });

    function myNavFunction(id) {
      $("#date-popover").hide();
      var nav = $("#" + id).data("navigation");
      var to = $("#" + id).data("to");
      console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    }
  </script>
</body>

</html>
