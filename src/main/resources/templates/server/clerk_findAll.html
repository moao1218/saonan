<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content=""/>
  <meta name="author" content="Dashboard"/>
  <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina"/>
  <title>人员管理</title>

  <!-- Favicons -->
  <link href="back/img/favicon.png" rel="icon"/>
  <link href="back/img/apple-touch-icon.png" rel="apple-touch-icon"/>

  <!-- Bootstrap core CSS -->
  <link href="back/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <!--external css-->
  <link href="back/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="back/css/zabuto_calendar.css"/>
  <link rel="stylesheet" type="text/css" href="back/lib/gritter/css/jquery.gritter.css" />
  <!-- Custom styles for this template -->
  <link href="back/css/style.css" rel="stylesheet"/>
  <link href="back/css/style-responsive.css" rel="stylesheet"/>
  <script src="back/lib/chart-master/Chart.js"></script>
  <script src="back/lib/jquery/jquery.min.js"></script>

  <script src="back/lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="back/lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="back/lib/jquery.scrollTo.min.js"></script>
  <script src="back/lib/jquery.nicescroll.js" type="text/javascript"></script>
  <script src="back/lib/jquery.sparkline.js"></script>
  <!--common script for all pages-->
  <script src="back/lib/common-scripts.js"></script>
  <script type="text/javascript" src="back/lib/gritter/js/jquery.gritter.js"></script>
  <script type="text/javascript" src="back/lib/gritter-conf.js"></script>
  <!--script for this page-->
  <script src="back/lib/sparkline-chart.js"></script>
  <script src="back/lib/zabuto_calendar.js"></script>
   
  <script type="text/javascript">
	  function goToPage(num){
			var total = $("#totalpage").val();
			
			if(parseInt(num)<1){
				alert("已经是第一页了!");
			}else if(parseInt(num)>total){
				alert("已经是最后一页了!");
			}else{
				sform.cp.value=num;
				sform.submit();
		}
	  }
  </script>
  <script type="text/javascript">
  $(function(){
  		console.log($("#totalpage").val());
  		console.log($("#cp").val());
		$.post("/weather",{"city":"深圳","appkey":"3aa9dfcfc136e1953edb18c45d1835f6"},function(data){
			console.log(data);
			$("#tianqi_city").html(data.result.result.city);
			$("#tianqi_date").html(data.result.result.updatetime);
			$("#tianqi_week").html(data.result.result.week);
			$("#tianqi_weather").html(data.result.result.weather);
			$("#tianqi_humidity").html(data.result.result.humidity);
			$("#tianqi_temp").html(data.result.result.temp);
			$("#tianqi_templow").html(data.result.result.templow);
			$("#tianqi_temphigh").html(data.result.result.temphigh);
			$("#tianqi_detail").html(data.result.result.index[0].detail);
		},"json");
	});
  
   
  </script>
  <script type="application/javascript">
      $(document).ready(function() {
      $("#date-popover").popover({
        html: true,
        trigger: "manual"
      });
      $("#date-popover").hide();
      $("#date-popover").click(function(e) {
        $(this).hide();
      });

      $("#my-calendar").zabuto_calendar({
        action: function() {
          return myDateFunction(this.id, false);
        },
        action_nav: function() {
          return myNavFunction(this.id);
        },
        ajax: {
          url: "show_data.php?action=1",
          modal: true
        },
        legend: [{
            type: "text",
            label: "Special event",
            badge: "00"
          },
          {
            type: "block",
            label: "Regular event",
          }
        ]
      });
    }); 

     function myNavFunction(id) {
      $("#date-popover").hide();
      var nav = $("#" + id).data("navigation");
      var to = $("#" + id).data("to");
      console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    } 
     
     //跳转详情
     function jumpDetails(pid){
		  location.href = "/clerkdetail?pid="+pid;
 		}
     //修改
     function jumpupdate(pid){
    	 location.href = "/update?pid="+pid;
     }
     
     
     //全选/反选
 	function unselectAll(){
 		var obj = document.sform.elements;
 		for (var i=0;i<obj.length;i++){
 			if (obj[i].name == "delid"){
 				if (obj[i].checked==true) obj[i].checked = false;
 				else obj[i].checked = true;
 			}
 		}
 	}
     
     //删除
  	 function deletemore(){
    	 var f = false;
    	 var arr = [];
		 var delid = document.getElementsByName("delid");
				for(var i=0;i<delid.length;i++){
					if(delid[i].checked==true){//代表选中
						arr.push(delid[i].value);
						f=true;
					}
				}
				if(f==true){
					if(confirm("您确认要删除吗？"))
						window.location.href="/deleteClerk?magid="+arr;
				}else{
					alert("请至少选中一条进行批量删除");
				}
		
							
	}  
     
     //注销
 	function fulldelete(){
 		 var f = false;
 		var arr = [];
		var delid = document.getElementsByName("delid");
			for(var i=0;i<delid.length;i++){
				if(delid[i].checked==true){//代表选中
					arr.push(delid[i].value);
					f=true;
				}
			}
			if(f==true){
				if(confirm("您确认要注销吗？"))
					window.location.href="/fulldeleteclerk?magid="+arr;
			}else{
				alert("请至少选中一条进行注销");
			}
	}
     
     
     
     
     
  </script>

</head>

<body>
  <section id="container">
    <!-- **********************************************************************************************************************************************************
        TOP BAR CONTENT & NOTIFICATIONS
        *********************************************************************************************************************************************************** -->
    <!--header start-->
    
    <div th:replace="server/commons/comm::#topbar(activeUri='insurance_slip_list.html')"></div>
    
    <!--header end-->
    <!-- **********************************************************************************************************************************************************
        MAIN SIDEBAR MENU
        *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    
    <div th:replace="server/commons/comm::#sidebar(activeUri='insurance_slip_list.html')"></div>
    
    <!--sidebar end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
     <section class="wrapper">
        <div class="row">
       
		<div class="col-md-12">
            <div class="content-panel">
            
              <form action="/clerksplic" method="post" id="sform" name="sform">
              <input type="hidden"  name="cp"  id="cp" th:value="${cp}"/>
              <input type="hidden"  name="ps"  id="ps" th:value="${ps}"/>
				<input type="hidden" name="totalpage"  id="totalpage" th:value="${totalpage}" />
              <table class="table table-striped table-advance table-hover">
                <div class="alert alert-success" role="alert">
				  <h4 class="alert-heading">员工列表</h4>
				</div>
                <thead>
                
				  <div class="form-row">
				    <div class="form-group col-md-2">
				      <label for="inputCity">姓名</label>
				      <input type="text" id="kw" name="kw" class="form-control" value="" placeholder="请输入员工姓名" onfocus="this.placeholder=''" onblur="this.placeholder='请输入员工姓名'"></tr>
				    </div>
				    <div class="form-group col-md-2">
				      <label for="inputZip">身份证号码</label>
				      <input type="text" id="card" name="card" class="form-control"  value="" placeholder="请输入员工身份证号码" onfocus="this.placeholder=''" onblur="this.placeholder='请输入员工身份证号码'" />
				    </div>
				    
				    <div class="form-group col-md-2">
				      <label for="rol">职位</label>
				      <select id="rol" name="rol" class="form-control">
				      	<option value="">--请选择--</option>
		              	<option th:value="1">保单一审</option>
		              	<option th:value="2">保单二审</option>
		              	<option th:value="3">保单三审</option>
		              	<option th:value="4">理赔一审</option>
		              	<option th:value="5">理赔二审</option>
		              	<option th:value="6">理赔三审</option>
		              	<option th:value="7">会计</option>
		              	<option th:value="8">指导人员</option>
		              	<option th:value="9">保单勘察人员</option>
		              	<option th:value="10">理赔勘察人员</option>
		              	<option th:value="11">超级管理员</option>
				      </select>
				    </div>
				    
				    
				   <div class="form-group col-md-2">
				      <label for="inputState">区域</label>
				      <select id="area" class="form-control" name="area">
				      	<option value="">--请选择--</option>
				        <option th:each="city:${cityList}" th:value="${city.code}" th:text="${city.region_name_c}">Choose...</option>
				      </select>
				    </div>
				    
				    
				    
				  </div>
				  <div>				  <input type="submit" value="查询" class="btn btn-primary" style="margin-left: 45%"/>
				  
				  </div>
				 <!--  <button type="submit" class="btn btn-primary" style="margin-left: 45%">查询</button> -->
				
			    
			    <hr/> 
			    <tb>     
			   	   <a class="btn btn-success btn-sm pull-left"  onclick="deletemore()">删除</a>
			       <a class="btn btn-primary btn-sm pull-left" onclick="fulldelete()">注销</a>
			    </tb>
			

                  <tr>
                 	 <th>
						 <a href="javascript:void(0)" onclick="unselectAll()">全选/反选</a>
					</th>
                    <th><i class="fa fa-bullhorn"></i></th>
                    <th class="hidden-phone"></i>姓名</th>
                    <th>性别</th>
                    <th>职位</th>
                    <th>邮箱</th>
                    <th>身份证号码</th>
                    <th>负责地区</th>
                    <th>手机号码</th>
                    <th><i class=" fa fa-edit">操作</i></th>
                  </tr>
                </thead>
                <tbody>
                
                  
                  <tr  th:each="clerklist,indexlist:${clerklist}" >
                  	<td><input type="checkbox" name="delid" th:value="${clerklist.magid }" id="delid" ></td>
                    <td th:text="${indexlist.index+1}"><i class="fa fa-bullhorn"></i>#</td>
                    <td th:text="${clerklist.realname}" class="hidden-phone"><i class="fa fa-bookmark"></i>姓名</td>
                   <td th:text="${clerklist.sex}==1?'男':'女'"><i class="fa fa-bookmark"></i> 性别</td>
                    <td th:text="${clerklist.job}"><i class=" fa fa-bookmark"></i>职位</td>
                    <td th:text="${clerklist.email}"><i class=" fa fa-bookmark"></i>邮箱</td>
                    <td th:text="${clerklist.user_card}"><i class=" fa fa-bookmark"></i>身份证号码</td>
                    <td th:text="${clerklist.city.region_name_c}"><i class=" fa fa-bookmark"></i>负责地区</td>
                    <td th:text="${clerklist.phone}"><i class=" fa fa-bookmark"></i>手机号码</td>
                    <td>
                 	 	<button type="button" class="btn btn-primary btn-xs" th:onclick="jumpDetails([[${clerklist.magid}]])">详情</button>
                 	 	<button type="button" class="btn btn-primary btn-xs" th:onclick="jumpupdate([[${clerklist.magid}]])">修改</button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div style="margin-left: 35%">
             	 <ul class="pagination" >
				    <li><a href="javascript:void(0);" th:onclick="goToPage(1);">&laquo;</a></li>
				    <li><a href="javascript:void(0);" th:onclick="|goToPage('${cp-1}');|">&lt;</a></li>
				    <li th:if="${cp-3}>3"><a href="javascript:void(0)" th:onclick="|goToPage('${cp-3}');|">...</a></li>
				    <li th:if="${cp-2}>2"><a href="javascript:void(0)" th:onclick="|goToPage('${cp-2}');|" th:text="${cp-2}"></a>1</li>
				    <li th:if="${cp-1}>1"><a href="javascript:void(0)" th:onclick="|goToPage('${cp-1}');|" th:text="${cp-1}">2</a></li>
				    <li class="active"><a href="javascript:void(0)" th:text="${cp}">3</a></li>
				    <li th:if="${cp+1}<${totalpage}"><a href="javascript:void(0)" th:onclick="|goToPage('${cp+1}');|" th:text="${cp+1}">4</a></li>
				    <li th:if="${cp+2}<${totalpage}"><a href="javascript:void(0)" th:onclick="|goToPage('${cp+2}');|" th:text="${cp+2}">5</a></li>
				    <li th:if="${cp+3}<${totalpage}"><a href="javascript:void(0)" th:onclick="|goToPage('${cp+3}');|" >...</a></li>
				    <li><a href="javascript:void(0);" th:onclick="|goToPage('${cp+1}');|">&gt;</a></li>
				    <li><a href="javascript:void(0);" th:onclick="|goToPage(${totalpage});|">&raquo;</a></li>
				 </ul>
			   </div>
			   </form>
            </div>
            <!-- /content-panel -->
          </div>
			
        
        </div>
     </section>
	  
    </section>
    <!--main content end-->
    <!--footer start-->
    <!--footer end-->
    
  </section>
  <!-- js placed at the end of the document so the pages load faster -->
  
</body>

</html>
<SCRIPT Language=VBScript></SCRIPT>