<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content=""/>
  <meta name="author" content="Dashboard"/>
  <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina"/>
  <title>喵喵财保后台系统</title>

  <!-- Favicons -->
  <link href="back/img/favicon.png" rel="icon"/>
  <link href="back/img/apple-touch-icon.png" rel="apple-touch-icon"/>

  <!-- Bootstrap core CSS -->
  <link href="back/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <!--external css-->
  <link href="back/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="back/css/zabuto_calendar.css"/>
  <link rel="stylesheet" type="text/css" href="back/lib/gritter/css/jquery.gritter.css" />
  <!-- Custom styles for this template -->
  <link href="back/css/style.css" rel="stylesheet"/>
  <link href="back/css/style-responsive.css" rel="stylesheet"/>
  <script src="back/lib/chart-master/Chart.js"></script>
  <script type="text/javascript">
	  function goToPage(num){
			var total = $("#totalpage").val();
			
			if(parseInt(num)<1){
				alert("已经是第一页了!");
			}else if(parseInt(num)>total){
				alert("已经是最后一页了!");
			}else{
				sform.cp.value=num;
				sform.submit();
		}
	  }
	  	  
	  function goDetails(policyId){
		  
		  location.href = "/goPolicyDetails?policyId="+policyId;
		  
	  }

  </script>


  <!-- =======================================================
    Template Name: Dashio
    Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
    Author: TemplateMag.com
    License: https://templatemag.com/license/
  ======================================================= -->
</head>

<body>
  <section id="container">
    <!-- **********************************************************************************************************************************************************
        TOP BAR CONTENT & NOTIFICATIONS
        *********************************************************************************************************************************************************** -->
    <!--header start-->
    
    <div th:replace="server/commons/comm::#topbar(activeUri='insurance_slip_list.html')"></div>
    
    <!--header end-->
    <!-- **********************************************************************************************************************************************************
        MAIN SIDEBAR MENU
        *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    
    <div th:replace="server/commons/comm::#sidebar(activeUri='insurance_slip_list.html')"></div>
    
    <!--sidebar end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
     <section class="wrapper">
        <div class="row">
       
		<div class="col-md-12">
		<form name="sform" action="/goPolicyList" method="post">
			<input type="hidden"  name="cp"  id="cp" th:value="${cp}"/>
            <input type="hidden"  name="ps"  id="ps" th:value="${ps}"/>
			<input type="hidden" name="totalpage"  id="totalpage" th:value="${totalPage}" />
				
            <div class="content-panel">
              <table class="table table-striped table-advance table-hover">
                <div class="alert alert-success" role="alert">
				  <h4 class="alert-heading">保单列表</h4>
				</div>
                <thead>
                
				  <div class="form-row">
				    <div class="form-group col-md-4">
				      <label for="inputCity">保单号</label>
				      <input type="text" class="form-control" id="inputCity" name="v_id">
				    </div>
				    <div class="form-group col-md-2">
				      <label for="inputZip">被保人姓名</label>
				      <input type="text" class="form-control" id="inputZip" name="v_name">
				    </div>
				    <div class="form-group col-md-2">
				      <label for="inputZip">保费(低)</label>
				      <input type="text" class="form-control" id="inputZip">
				    </div>
				    <div class="form-group col-md-2">
				      <label for="inputZip">保费(高)</label>
				      <input type="text" class="form-control" id="inputZip">
				    </div>
				    <div class="form-group col-md-2">
				      <label for="inputState">区域</label>
				      <select id="inputState" class="form-control">
				      	<option value="">--请选择--</option>
				        <option th:each="city:${cityList}" th:value="${city.code}" th:text="${city.region_name_c}">Choose...</option>
				      </select>
				    </div>
				  </div>
				  <div class="form-row">
<<<<<<< HEAD
				    <div class='col-sm-2'>
				        <div class="form-group">
				            <label>选择日期：</label>
				            <!--指定 date标记-->
				            <div class='input-group date' id='datetimepicker1'>
				                <input type='text' class="form-control" />
				                <span class="input-group-addon">
				                    <span class="glyphicon glyphicon-calendar"></span>
				                </span>
				            </div>
				        </div>
					</div>
=======
				    <div class="form-group col-md-2">
				      <label for="inputState">申请时间(低)</label>
				      <input type="text" class="form-control form-control-inline input-medium default-date-picker" data-date-format="yyyy-mm-dd" id="">
				    </div>
>>>>>>> branch 'dev' of https://github.com/moao1218/saonan.git
				    <div class="form-group col-md-2">
				      <label for="inputState">申请时间(高)</label>
<<<<<<< HEAD
				      <input type="text" value="2012-12-12" class="form-control form-control-inline input-medium default-date-picker" data-date-format="yyyy-mm-dd" id="inputZip">
=======
				      <input type="text" class="form-control form-control-inline input-medium default-date-picker" data-date-format="yyyy-mm-dd" id="">
>>>>>>> branch 'dev' of https://github.com/moao1218/saonan.git
				    </div>
				   <div class="form-group col-md-2">
				      <label for="inputState">险种</label>
				      <select id="inputState" class="form-control">
				      	<option value="">--请选择--</option>
				        <option th:each="city:${cityList}" th:value="${city.code}" th:text="${city.region_name_c}">Choose...</option>
				      </select>
				    </div>
				    <div class="form-group col-md-2">
				      <label for="inputZip">保单有效期</label>
				      <input type="text" class="form-control form-control-inline input-medium default-date-picker" id="inputZip">
				    </div>
				  </div>
				  <div class="form-row">
				  	<div class="form-group col-md-2">
				      <label for="inputState">保单性质</label>
				      <select id="inputState" class="form-control">
				        <option selected>个人</option>
				        <option selected>企业</option>
				        <option>...</option>
				      </select>
				    </div>
				    
				    <div class="form-group col-md-2">
				      <label for="inputState">排序</label>
				      <select id="inputState" class="form-control">
				        <option selected>正序</option>
				        <option>...</option>
				      </select>
				    </div>
				  </div>
				  
				  <button type="submit" class="btn btn-primary" style="margin-left: 45%">查询</button>
				
			    
			    <hr/>
			    
			    
                  <tr>
                    <th><i class="fa fa-bullhorn"></i></th>
                    <th class="hidden-phone"></i>保单号</th>
                    <th></i>保单性质</th>
                    <th></i>投保人姓名</th>
                    <th></i>起始日期</th>
                    <th></i>结束日期</th>
                    <th></i>区域</th>
                    <th></i>保费</th>
                    <th><i class=" fa fa-edit">操作</th>
                  </tr>
                </thead>
                <tbody>
                
                  
                  <tr  th:each="policy,indexlist:${policyList}" >
                  	<td th:text="${indexlist.index+1}"><i class="fa fa-bullhorn"></i>#</td>
                  	<td th:text="${policy.policyid}" class="hidden-phone"><i class="fa fa-bookmark"></i>保单号</td>
                  	<td th:text="${policy.pol_property=='0'?'个人':'企业'}" class="hidden-phone"><i class="fa fa-bookmark"></i>保单性质</td>
                  	<td th:text="${policy.holder_name}" class="hidden-phone"><i class="fa fa-bookmark"></i>投保人姓名</td>
                  	<td th:text="${policy.start_date}" class="hidden-phone"><i class="fa fa-bookmark"></i>起始日期</td>
                  	<td th:text="${policy.end_date}" class="hidden-phone"><i class="fa fa-bookmark"></i>结束日期</td>
                  	<td th:text="${policy.city.region_name_c}" class="hidden-phone"><i class="fa fa-bookmark"></i>区域</td>
                  	<td th:text="${policy.premium}" class="hidden-phone"><i class="fa fa-bookmark"></i>保费</td>
                  	<td>
                      <button type="button" class="btn btn-primary btn-xs" th:onclick="goDetails([[${policy.policyid}]])" ><i class="fa fa-pencil"></i></button>
                    </td>
                  	
                  </tr>
                  
                  
                </tbody>
              </table>
              
              <div style="margin-left: 35%">
             	 <ul class="pagination" >
				    <li><a href="javascript:void(0);" th:onclick="goToPage(1);">&laquo;</a></li>
				    <li><a href="javascript:void(0);" th:onclick="|goToPage('${cp-1}');|">&lt;</a></li>
				    <li th:if="${cp-3}>0"><a href="javascript:void(0)" th:onclick="|goToPage('${cp-3}');|">...</a></li>
				    <li th:if="${cp-2}>0"><a href="javascript:void(0)" th:onclick="|goToPage('${cp-2}');|" th:text="${cp-2}"></a>1</li>
				    <li th:if="${cp-1}>0"><a href="javascript:void(0)" th:onclick="|goToPage('${cp-1}');|" th:text="${cp-1}">2</a></li>
				    <li class="active"><a href="javascript:void(0)" th:text="${cp}">3</a></li>
				    <li th:if="${cp}<${totalPage}"><a href="javascript:void(0)" th:onclick="|goToPage('${cp+1}');|" th:text="${cp+1}">4</a></li>
				    <li th:if="${cp+1}<${totalPage}"><a href="javascript:void(0)" th:onclick="|goToPage('${cp+2}');|" th:text="${cp+2}">5</a></li>
				    <li th:if="${cp+2}<${totalPage}"><a href="javascript:void(0)" th:onclick="|goToPage('${cp+3}');|" >...</a></li>
				    <li><a href="javascript:void(0);" th:onclick="|goToPage('${cp+1}');|">&gt;</a></li>
				    <li><a href="javascript:void(0);" th:onclick="|goToPage(${totalpage});|">&raquo;</a></li>
				 </ul>
			   </div>
              
            </div>
            </form>
            <!-- /content-panel -->
          </div>

        
        </div>
     </section>
	  
    </section>
    <!--main content end-->
    <!--footer start-->
    <!--footer end-->
    
  </section>
  <!-- js placed at the end of the document so the pages load faster -->
  <script src="back/lib/jquery/jquery.min.js"></script>

  <script src="back/lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="back/lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="back/lib/jquery.scrollTo.min.js"></script>
  <script src="back/lib/jquery.nicescroll.js" type="text/javascript"></script>
  <script src="back/lib/jquery.sparkline.js"></script>
  <!--common script for all pages-->
  <script src="back/lib/common-scripts.js"></script>
  <script type="text/javascript" src="back/lib/gritter/js/jquery.gritter.js"></script>
  <script type="text/javascript" src="back/lib/gritter-conf.js"></script>
  <!--script for this page-->
  <script src="back/lib/sparkline-chart.js"></script>
  <script src="back/lib/zabuto_calendar.js"></script>
  <script src="back/lib/jquery-ui-1.9.2.custom.min.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-fileupload/bootstrap-fileupload.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-daterangepicker/date.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-daterangepicker/daterangepicker.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-daterangepicker/moment.min.js"></script>
  <script type="text/javascript" src="back/lib/bootstrap-timepicker/js/bootstrap-timepicker.js"></script>
  <script src="back/lib/advanced-form-components.js"></script>
  
  <script type="text/javascript">
  $(function(){
		$.post("/weather",{"city":"深圳","appkey":"3aa9dfcfc136e1953edb18c45d1835f6"},function(data){
			console.log(data);
			$("#tianqi_city").html(data.result.result.city);
			$("#tianqi_date").html(data.result.result.updatetime);
			$("#tianqi_week").html(data.result.result.week);
			$("#tianqi_weather").html(data.result.result.weather);
			$("#tianqi_humidity").html(data.result.result.humidity);
			$("#tianqi_temp").html(data.result.result.temp);
			$("#tianqi_templow").html(data.result.result.templow);
			$("#tianqi_temphigh").html(data.result.result.temphigh);
			$("#tianqi_detail").html(data.result.result.index[0].detail);
		},"json");
	});
  
    /* $(document).ready(function() {
      var unique_id = $.gritter.add({
        // (string | mandatory) the heading of the notification
        title: 'Welcome to Dashio!',
        // (string | mandatory) the text inside the notification
        text: 'Hover me to enable the Close Button. You can hide the left sidebar clicking on the button next to the logo.',
        // (string | optional) the image to display on the left
        image: 'back/img/ui-sam.jpg',
        // (bool | optional) if you want it to fade out on its own or just sit there
        sticky: false,
        // (int | optional) the time you want it to be alive for before fading out
        time: 8000,
        // (string | optional) the class name you want to apply to that specific message
        class_name: 'my-sticky-class'
      });

      return false;
    }); */
  </script>
  <script type="application/javascript">
      $(document).ready(function() {
      $("#date-popover").popover({
        html: true,
        trigger: "manual"
      });
      $("#date-popover").hide();
      $("#date-popover").click(function(e) {
        $(this).hide();
      });

      $("#my-calendar").zabuto_calendar({
        action: function() {
          return myDateFunction(this.id, false);
        },
        action_nav: function() {
          return myNavFunction(this.id);
        },
        ajax: {
          url: "show_data.php?action=1",
          modal: true
        },
        legend: [{
            type: "text",
            label: "Special event",
            badge: "00"
          },
          {
            type: "block",
            label: "Regular event",
          }
        ]
      });
    }); 


      
     function myNavFunction(id) {
      $("#date-popover").hide();
      var nav = $("#" + id).data("navigation");
      var to = $("#" + id).data("to");
      console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    } 
  </script>
</body>

</html>
